<?xml version="1.0" encoding="UTF-8"?>
<OspSystemStructure
        xmlns="http://opensimulationplatform.com/MSMI/OSPSystemStructure"
        version="0.1">
    <BaseStepSize>0.01</BaseStepSize>
    <Simulators>
        <Simulator name="milliAmpere 2" source="../../fmus_linux/mA2_vessel.fmu">
            <InitialValues>
                <InitialValue variable="initial_position[1]">
                    <Real value="-519.028"/>
                </InitialValue>
                <InitialValue variable="initial_position[2]">
                    <Real value="-309.423"/>
                </InitialValue>
                <InitialValue variable="initial_position[3]">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="initial_position[4]">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="initial_position[5]">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="initial_position[6]">
                    <Real value="2.8893"/>
                </InitialValue>
                <InitialValue variable="initial_velocity[1]">
                    <Real value="0.0"/>
                </InitialValue>	
                <InitialValue variable="initial_velocity[2]">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="initial_velocity[3]">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="initial_velocity[4]">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="initial_velocity[5]">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="initial_velocity[6]">
                    <Real value="0.0"/>
                </InitialValue>

                <!-- Quays -->
                <InitialValue variable="L_vessel">
                    <Real value="8.4"/>
                </InitialValue>
                <InitialValue variable="B_vessel">
                    <Real value="3.5"/>
                </InitialValue>
                <InitialValue variable="k_quay">
                    <Real value="100000"/>
                </InitialValue>
                <InitialValue variable="d_quay">
                    <Real value="160000"/>
                </InitialValue>
                <InitialValue variable="mu_quay">
                    <Real value="1"/>
                </InitialValue>
                <!-- Ravnkloa -->
                <InitialValue variable="quay_1_en"><Boolean value="true"/></InitialValue>
                <InitialValue variable="quay_1_p0[1]"><Real value="-522.7207060180632"/></InitialValue>
                <InitialValue variable="quay_1_p0[2]"><Real value="-306.40568939879245"/></InitialValue>
                <InitialValue variable="quay_1_p1[1]"><Real value="-523.7192047686264"/></InitialValue>
                <InitialValue variable="quay_1_p1[2]"><Real value="-310.2790600556137"/></InitialValue>
                <InitialValue variable="quay_1_depth"><Real value="4.8"/></InitialValue>
                <!-- Fosenkaia -->
                <InitialValue variable="quay_2_en"><Boolean value="true"/></InitialValue>
                <InitialValue variable="quay_2_p0[1]"><Real value="-455.43741173300276"/></InitialValue>
                <InitialValue variable="quay_2_p0[2]"><Real value="-348.3113240689948"/></InitialValue>
                <InitialValue variable="quay_2_p1[1]"><Real value="-451.76734168217365"/></InitialValue>
                <InitialValue variable="quay_2_p1[2]"><Real value="-346.7205425560248"/></InitialValue>
                <InitialValue variable="quay_2_depth"><Real value="4.8"/></InitialValue>
            </InitialValues>
        </Simulator>
        
        <Simulator name="Thruster Front STB" source="../../fmus_linux/mA2_thrusters/mA2_thruster_fs.fmu">
            <InitialValues>
                <InitialValue variable="Lx">
                    <Real value="2.85"/>
                </InitialValue>
                <InitialValue variable="Ly">
                    <Real value="0.7"/>
                </InitialValue>
                <InitialValue variable="neutral_angle">
                    <Real value="-135"/>
                </InitialValue>
                <InitialValue variable="max_angle_displacement">
                    <Real value="45"/>
                </InitialValue>
                <InitialValue variable="max_turn_rate">
                    <Real value="30"/>
                </InitialValue>
                <InitialValue variable="servo_time_constant">
                    <Real value="0.5"/>
                </InitialValue>
                <InitialValue variable="max_rpm">
                    <Real value="1200"/>
                </InitialValue>
                <InitialValue variable="rpm_time_constant">
                    <Real value="1.0"/>
                </InitialValue>
                <InitialValue variable="max_rpm_rate">
                    <Real value="400"/>
                </InitialValue>
                <InitialValue variable="propeller_diameter">
                    <Real value="0.36"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
            
        <Simulator name="Thruster Front Port" source="../../fmus_linux/mA2_thrusters/mA2_thruster_fp.fmu">
            <InitialValues>
                <InitialValue variable="Lx">
                    <Real value="2.85"/>
                </InitialValue>
                <InitialValue variable="Ly">
                    <Real value="-0.7"/>
                </InitialValue>
                <InitialValue variable="neutral_angle">
                    <Real value="135"/>
                </InitialValue>
                <InitialValue variable="max_angle_displacement">
                    <Real value="45"/>
                </InitialValue>
                <InitialValue variable="max_turn_rate">
                    <Real value="30"/>
                </InitialValue>
                <InitialValue variable="servo_time_constant">
                    <Real value="0.5"/>
                </InitialValue>
                <InitialValue variable="max_rpm">
                    <Real value="1200"/>
                </InitialValue>
                <InitialValue variable="rpm_time_constant">
                    <Real value="1.0"/>
                </InitialValue>
                <InitialValue variable="max_rpm_rate">
                    <Real value="400"/>
                </InitialValue>
                <InitialValue variable="propeller_diameter">
                    <Real value="0.36"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
        
        <Simulator name="Thruster Aft STB" source="../../fmus_linux/mA2_thrusters/mA2_thruster_as.fmu">
            <InitialValues>
                <InitialValue variable="Lx">
                    <Real value="-2.85"/>
                </InitialValue>
                <InitialValue variable="Ly">
                    <Real value="0.7"/>
                </InitialValue>
                <InitialValue variable="neutral_angle">
                    <Real value="-45"/>
                </InitialValue>
                <InitialValue variable="max_angle_displacement">
                    <Real value="45"/>
                </InitialValue>
                <InitialValue variable="max_turn_rate">
                    <Real value="30"/>
                </InitialValue>
                <InitialValue variable="servo_time_constant">
                    <Real value="0.5"/>
                </InitialValue>
                <InitialValue variable="max_rpm">
                    <Real value="1200"/>
                </InitialValue>
                <InitialValue variable="rpm_time_constant">
                    <Real value="1.0"/>
                </InitialValue>
                <InitialValue variable="max_rpm_rate">
                    <Real value="400"/>
                </InitialValue>
                <InitialValue variable="propeller_diameter">
                    <Real value="0.36"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
        
        <Simulator name="Thruster Aft Port" source="../../fmus_linux/mA2_thrusters/mA2_thruster_ap.fmu">
            <InitialValues>
                <InitialValue variable="Lx">
                    <Real value="-2.85"/>
                </InitialValue>
                <InitialValue variable="Ly">
                    <Real value="-0.7"/>
                </InitialValue>
                <InitialValue variable="neutral_angle">
                    <Real value="45"/>
                </InitialValue>
                <InitialValue variable="max_angle_displacement">
                    <Real value="45"/>
                </InitialValue>
                <InitialValue variable="max_turn_rate">
                    <Real value="30"/>
                </InitialValue>
                <InitialValue variable="servo_time_constant">
                    <Real value="0.5"/>
                </InitialValue>
                <InitialValue variable="max_rpm">
                    <Real value="1200"/>
                </InitialValue>
                <InitialValue variable="rpm_time_constant">
                    <Real value="1.0"/>
                </InitialValue>
                <InitialValue variable="max_rpm_rate">
                    <Real value="400"/>
                </InitialValue>
                <InitialValue variable="propeller_diameter">
                    <Real value="0.36"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
        
        <Simulator name="Wave forces" source="../../fmus_linux/wave_forces.fmu">
            <InitialValues>
                <InitialValue variable="wave_force_stddev[1,1]">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="wave_force_stddev[1,2]">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="wave_force_stddev[1,3]">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="wave_force_stddev[1,4]">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="wave_force_stddev[1,5]">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="wave_force_stddev[1,6]">
                    <Real value="0.0"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
        
        <Simulator name="Wind model" source="../../fmus_linux/wind_model.fmu">
            <InitialValues>
                <InitialValue variable="mean_wind_direction">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="mean_wind_speed">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="wind_direction_noise_power">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="wind_direction_time_constant">
                    <Real value="10.0"/>
                </InitialValue>
                <InitialValue variable="wind_speed_noise_power">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="wind_speed_time_constant">
                    <Real value="10.0"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
        
        <Simulator name="Wind loads" source="../../fmus_linux/wind_loads.fmu">
            <InitialValues>
                <InitialValue variable="A_Fw">
                    <Real value="2.9"/>
                </InitialValue>
                <InitialValue variable="A_Lw">
                    <Real value="8.6"/>
                </InitialValue>
                <InitialValue variable="CD_lAF">
                    <Real value="0.475"/>
                </InitialValue>
                <InitialValue variable="CD_t">
                    <Real value="0.9"/>
                </InitialValue>
                <InitialValue variable="H_Lw">
                    <Real value="1.0"/>
                </InitialValue>
                <InitialValue variable="L_oa">
                    <Real value="5.0"/>
                </InitialValue>
                <InitialValue variable="delta">
                    <Real value="0.8"/>
                </InitialValue>
                <InitialValue variable="kappa">
                    <Real value="1.1"/>
                </InitialValue>
                <InitialValue variable="rho_air">
                    <Real value="1.225"/>
                </InitialValue>
                <InitialValue variable="s_L">
                    <Real value="0.0"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
        
        <Simulator name="Current model" source="../../fmus_linux/current_model.fmu">
            <InitialValues>
                <InitialValue variable="max_current_direction_variation">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="max_current_speed_variation">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="max_current_direction_variation">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="mean_current_direction">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="mean_current_speed">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="noise_power_current_direction">
                    <Real value="0.01"/>
                </InitialValue>
                <InitialValue variable="noise_power_current_speed">
                    <Real value="1.0E-5"/>
                </InitialValue>
                <InitialValue variable="time_constant_current_direction">
                    <Real value="100.0"/>
                </InitialValue>
                <InitialValue variable="time_constant_current_speed">
                    <Real value="100.0"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
        
        <Simulator name="gps_sensor_1" source="../../fmus_linux/gps_sensor.fmu">
            <InitialValues>
                <InitialValue variable="antenna_pos_x">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="antenna_pos_y">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="antenna_pos_z">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="latitude_0">
                    <Real value="63.4389029083"/>
                </InitialValue>
                <InitialValue variable="longitude_0">
                    <Real value="10.39908278"/>
                </InitialValue>
                <InitialValue variable="height_0">
                    <Real value="39.923"/>
                </InitialValue>
            </InitialValues>
        </Simulator>

        <Simulator name="gps_sensor_2" source="../../fmus_linux/gps_sensor.fmu">
            <InitialValues>
                <InitialValue variable="antenna_pos_x">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="antenna_pos_y">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="antenna_pos_z">
                    <Real value="-2.5"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
        
        <!-- <Simulator name="gps_sender_1" source="../../fmus_linux/gps_sender.fmu" stepSize="0.2"/> -->
        <Simulator name="gps_sender_2" source="../../fmus_linux/gps_sender2.fmu" stepSize="0.2"/>

        <Simulator name="vru_sensor" source="../../fmus_linux/vru_sensor.fmu">
            <InitialValues>
                <InitialValue variable="roll_noise_mean">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="roll_noise_standard_deviation">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="pitch_noise_mean">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="pitch_noise_standard_deviation">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="enable_sensor_fault">
                    <Boolean value="false"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
        
        <!-- <Simulator name="vru_sender" source="../../fmus_linux/vru_sender.fmu" stepSize="0.2"/> -->

        <Simulator name="gyro_sensor" source="../../fmus_linux/gyro_sensor.fmu">
            <InitialValues>
                <InitialValue variable="heading_noise_mean">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="heading_noise_standard_deviation">
                    <Real value="0.0"/>
                </InitialValue>
                <InitialValue variable="enable_sensor_fault">
                    <Boolean value="false"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
        
        <!-- <Simulator name="gyro_sender" source="../../fmus_linux/gyro_sender.fmu" stepSize="0.1">
            <InitialValues>
                <InitialValue variable="HeadingOk">
                    <String value="T"/>
                </InitialValue>
                <InitialValue variable="RateOfTurnOk">
                    <String value="A"/>
                </InitialValue>
            </InitialValues>
        </Simulator> -->
        <Simulator name="senti_sender" source="../../fmus_linux/senti_sender.fmu" stepSize="0.1"/>

        <Simulator name="wind_sensor" source="../../fmus_linux/wind_sensor.fmu"/> 
        <Simulator name="wind_sensor_sender" source="../../fmus_linux/wind_sensor_sender.fmu" stepSize="0.2"/>

        <Simulator name="Distance Sensor Fore Port" source="../../fmus_linux/UltrasonicDistanceSensor.fmu">
            <InitialValues>
                <InitialValue variable="min_range">
                    <Real value="0.115"/>
                </InitialValue>
                <InitialValue variable="max_range">
                    <Real value="1"/>
                </InitialValue>
                <InitialValue variable="sensor_pose_x">
                    <Real value="4.066"/>
                </InitialValue>
                <InitialValue variable="sensor_pose_y">
                    <Real value="-0.47"/>
                </InitialValue>
                <InitialValue variable="sensor_pose_psi">
                    <Real value="0.0"/>
                </InitialValue>
                <!-- Ravnkloa -->
                <InitialValue variable="quay_1_en"><Boolean value="true"/></InitialValue>
                <InitialValue variable="quay_1_p0[1]"><Real value="-522.7207060180632"/></InitialValue>
                <InitialValue variable="quay_1_p0[2]"><Real value="-306.40568939879245"/></InitialValue>
                <InitialValue variable="quay_1_p1[1]"><Real value="-523.7192047686264"/></InitialValue>
                <InitialValue variable="quay_1_p1[2]"><Real value="-310.2790600556137"/></InitialValue>
                <InitialValue variable="quay_1_depth"><Real value="4.8"/></InitialValue>
                <!-- Fosenkaia -->
                <InitialValue variable="quay_2_en"><Boolean value="true"/></InitialValue>
                <InitialValue variable="quay_2_p0[1]"><Real value="-455.43741173300276"/></InitialValue>
                <InitialValue variable="quay_2_p0[2]"><Real value="-348.3113240689948"/></InitialValue>
                <InitialValue variable="quay_2_p1[1]"><Real value="-451.76734168217365"/></InitialValue>
                <InitialValue variable="quay_2_p1[2]"><Real value="-346.7205425560248"/></InitialValue>
                <InitialValue variable="quay_2_depth"><Real value="4.8"/></InitialValue>
            </InitialValues>
        </Simulator>
        
        <Simulator name="Distance Sensor Fore STB" source="../../fmus_linux/UltrasonicDistanceSensor_1.fmu">
            <InitialValues>
                <InitialValue variable="min_range">
                    <Real value="0.115"/>
                </InitialValue>
                <InitialValue variable="max_range">
                    <Real value="1"/>
                </InitialValue>
                <InitialValue variable="sensor_pose_x">
                    <Real value="4.066"/>
                </InitialValue>
                <InitialValue variable="sensor_pose_y">
                    <Real value="0.47"/>
                </InitialValue>
                <InitialValue variable="sensor_pose_psi">
                    <Real value="0.0"/>
                </InitialValue>
                <!-- Ravnkloa -->
                <InitialValue variable="quay_1_en"><Boolean value="true"/></InitialValue>
                <InitialValue variable="quay_1_p0[1]"><Real value="-522.7207060180632"/></InitialValue>
                <InitialValue variable="quay_1_p0[2]"><Real value="-306.40568939879245"/></InitialValue>
                <InitialValue variable="quay_1_p1[1]"><Real value="-523.7192047686264"/></InitialValue>
                <InitialValue variable="quay_1_p1[2]"><Real value="-310.2790600556137"/></InitialValue>
                <InitialValue variable="quay_1_depth"><Real value="4.8"/></InitialValue>
                <!-- Fosenkaia -->
                <InitialValue variable="quay_2_en"><Boolean value="true"/></InitialValue>
                <InitialValue variable="quay_2_p0[1]"><Real value="-455.43741173300276"/></InitialValue>
                <InitialValue variable="quay_2_p0[2]"><Real value="-348.3113240689948"/></InitialValue>
                <InitialValue variable="quay_2_p1[1]"><Real value="-451.76734168217365"/></InitialValue>
                <InitialValue variable="quay_2_p1[2]"><Real value="-346.7205425560248"/></InitialValue>
                <InitialValue variable="quay_2_depth"><Real value="4.8"/></InitialValue>
            </InitialValues>
        </Simulator>
        
        <Simulator name="Distance Sensor Aft Port" source="../../fmus_linux/UltrasonicDistanceSensor_2.fmu">
            <InitialValues>
                <InitialValue variable="min_range">
                    <Real value="0.115"/>
                </InitialValue>
                <InitialValue variable="max_range">
                    <Real value="1"/>
                </InitialValue>
                <InitialValue variable="sensor_pose_x">
                    <Real value="-4.066"/>
                </InitialValue>
                <InitialValue variable="sensor_pose_y">
                    <Real value="-0.47"/>
                </InitialValue>
                <InitialValue variable="sensor_pose_psi">
                    <Real value="3.141592653589793"/>
                </InitialValue>
                <!-- Ravnkloa -->
                <InitialValue variable="quay_1_en"><Boolean value="true"/></InitialValue>
                <InitialValue variable="quay_1_p0[1]"><Real value="-522.7207060180632"/></InitialValue>
                <InitialValue variable="quay_1_p0[2]"><Real value="-306.40568939879245"/></InitialValue>
                <InitialValue variable="quay_1_p1[1]"><Real value="-523.7192047686264"/></InitialValue>
                <InitialValue variable="quay_1_p1[2]"><Real value="-310.2790600556137"/></InitialValue>
                <InitialValue variable="quay_1_depth"><Real value="4.8"/></InitialValue>
                <!-- Fosenkaia -->
                <InitialValue variable="quay_2_en"><Boolean value="true"/></InitialValue>
                <InitialValue variable="quay_2_p0[1]"><Real value="-455.43741173300276"/></InitialValue>
                <InitialValue variable="quay_2_p0[2]"><Real value="-348.3113240689948"/></InitialValue>
                <InitialValue variable="quay_2_p1[1]"><Real value="-451.76734168217365"/></InitialValue>
                <InitialValue variable="quay_2_p1[2]"><Real value="-346.7205425560248"/></InitialValue>
                <InitialValue variable="quay_2_depth"><Real value="4.8"/></InitialValue>
            </InitialValues>
        </Simulator>
        
        <Simulator name="Distance Sensor Aft STB" source="../../fmus_linux/UltrasonicDistanceSensor_3.fmu">
            <InitialValues>
                <InitialValue variable="min_range">
                    <Real value="0.115"/>
                </InitialValue>
                <InitialValue variable="max_range">
                    <Real value="1"/>
                </InitialValue>
                <InitialValue variable="sensor_pose_x">
                    <Real value="-4.066"/>
                </InitialValue>
                <InitialValue variable="sensor_pose_y">
                    <Real value="0.47"/>
                </InitialValue>
                <InitialValue variable="sensor_pose_psi">
                    <Real value="3.141592653589793"/>
                </InitialValue>
                <!-- Ravnkloa -->
                <InitialValue variable="quay_1_en"><Boolean value="true"/></InitialValue>
                <InitialValue variable="quay_1_p0[1]"><Real value="-522.7207060180632"/></InitialValue>
                <InitialValue variable="quay_1_p0[2]"><Real value="-306.40568939879245"/></InitialValue>
                <InitialValue variable="quay_1_p1[1]"><Real value="-523.7192047686264"/></InitialValue>
                <InitialValue variable="quay_1_p1[2]"><Real value="-310.2790600556137"/></InitialValue>
                <InitialValue variable="quay_1_depth"><Real value="4.8"/></InitialValue>
                <!-- Fosenkaia -->
                <InitialValue variable="quay_2_en"><Boolean value="true"/></InitialValue>
                <InitialValue variable="quay_2_p0[1]"><Real value="-455.43741173300276"/></InitialValue>
                <InitialValue variable="quay_2_p0[2]"><Real value="-348.3113240689948"/></InitialValue>
                <InitialValue variable="quay_2_p1[1]"><Real value="-451.76734168217365"/></InitialValue>
                <InitialValue variable="quay_2_p1[2]"><Real value="-346.7205425560248"/></InitialValue>
                <InitialValue variable="quay_2_depth"><Real value="4.8"/></InitialValue>
            </InitialValues>
        </Simulator>

        <Simulator name="mt_hil_interface" source="../../fmus_linux/fmi_mt_driver.fmu" stepSize="0.1"/>
            <InitialValues>
                <InitialValue variable="remote_ip">
                    <String value="192.168.0.21"/>
                </InitialValue>
                <InitialValue variable="local_ip">
                    <String value="192.168.0.22"/>
                </InitialValue>
                <InitialValue variable="remote_port">
                    <String value="5080"/>
                </InitialValue>
                <InitialValue variable="local_port">
                    <String value="5081"/>
                </InitialValue>
            </InitialValues>
        </Simulator>

        <Simulator name="hatch_control" source="../../fmus_linux/fmi_nmea_hatch_control.fmu" stepSize="0.1">
            <InitialValues>
                <InitialValue variable="remote_ip">
                    <String value="192.168.10.100"/>
                </InitialValue>
                <InitialValue variable="local_ip">
                    <String value="0.0.0.0"/>
                </InitialValue>
                <InitialValue variable="command_port">
                    <Real value="2021"/>
                </InitialValue>
                <InitialValue variable="feedback_port">
                    <Real value="2022"/>
                </InitialValue>
                <InitialValue variable="hatch_command_timeout">
                    <Real value="12"/>
                </InitialValue>
                <InitialValue variable="hatch_id_fore">
                    <Real value="1"/>
                </InitialValue>
                <InitialValue variable="hatch_id_aft">
                    <Real value="2"/>
                </InitialValue>
            </InitialValues>
        </Simulator>

        <Simulator name="ultrasound_distance_communication" source="../../fmus_linux/fmi_ultrasonic_distance_sensor_communication.fmu" stepSize="0.05">
            <InitialValues>
                <InitialValue variable="remote_ip">
                    <String value="192.168.10.100"/>
                </InitialValue>
                <InitialValue variable="local_ip">
                    <String value="0.0.0.0"/>
                </InitialValue>

                <InitialValue variable="remote_port_fore_starboard">
                    <String value="2001"/>
                </InitialValue>
                <InitialValue variable="remote_port_fore_port">
                    <String value="2002"/>
                </InitialValue>
                <InitialValue variable="remote_port_aft_port">
                    <String value="2003"/>
                </InitialValue>
                <InitialValue variable="remote_port_aft_starboard">
                    <String value="2004"/>
                </InitialValue>

                <InitialValue variable="local_port_fore_starboard">
                    <String value="1996"/>
                </InitialValue>
                <InitialValue variable="local_port_fore_port">
                    <String value="1997"/>
                </InitialValue>
                <InitialValue variable="local_port_aft_port">
                    <String value="1998"/>
                </InitialValue>
                <InitialValue variable="local_port_aft_starboard">
                    <String value="1999"/>
                </InitialValue>

            </InitialValues>
        </Simulator>

        <Simulator name="zb_sim_nav" source="../../fmus_linux/fmi_zb_sim_nav.fmu" stepSize="0.05">
            <InitialValues>
                <InitialValue variable="remote_ip">
                    <String value="192.168.10.100"/>
                </InitialValue>
                <InitialValue variable="remote_port">
                    <String value="3000"/>
                </InitialValue>
            </InitialValues>
        </Simulator>

        <Simulator name="zb_sim_clock" source="../../fmus_linux/fmi_zb_sim_clock.fmu" stepSize="0.01">
            <InitialValues>
                <InitialValue variable="remote_ip">
                    <String value="192.168.10.100"/>
                </InitialValue>
                <InitialValue variable="remote_port">
                    <String value="3001"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
    </Simulators>
    
    <Functions>
        <!-- <LinearTransformation name="rad2deg" factor="57.295779513082320876798154814105" offset="0"/> -->
        <!-- <LinearTransformation name="deg2rad1" factor="0.01745329251994329576923690768489" offset="0"/> -->
        <VectorSum name="vessel_force_sum" inputCount="6" dimension="6"/>
    </Functions>
    
    <Connections>
        <!--Vessel force sum -->
        <SignalGroupConnection>
            <VariableGroup simulator="Thruster Front STB" name="force_6dof"/>
            <SignalGroup function="vessel_force_sum" name="in[0]"/>
        </SignalGroupConnection>
        <SignalGroupConnection>
            <VariableGroup simulator="Thruster Front Port" name="force_6dof"/>
            <SignalGroup function="vessel_force_sum" name="in[1]"/>
        </SignalGroupConnection>
        <SignalGroupConnection>
            <VariableGroup simulator="Thruster Aft STB" name="force_6dof"/>
            <SignalGroup function="vessel_force_sum" name="in[2]"/>
        </SignalGroupConnection>
        <SignalGroupConnection>
            <VariableGroup simulator="Thruster Aft Port" name="force_6dof"/>
            <SignalGroup function="vessel_force_sum" name="in[3]"/>
        </SignalGroupConnection>
        <SignalGroupConnection>
            <VariableGroup simulator="Wave forces" name="wave_forces"/>
            <SignalGroup function="vessel_force_sum" name="in[4]"/>
        </SignalGroupConnection>
        <SignalGroupConnection>
            <VariableGroup simulator="Wind loads" name="wind_loads"/>
            <SignalGroup function="vessel_force_sum" name="in[5]"/>
        </SignalGroupConnection>
        <SignalGroupConnection>
            <SignalGroup function="vessel_force_sum" name="out"/>
            <VariableGroup simulator="milliAmpere 2" name="external_force"/>
        </SignalGroupConnection>

        <!-- Current-->
        <VariableGroupConnection>
            <VariableGroup simulator="Current model" name="current_velocity"/>
            <VariableGroup simulator="milliAmpere 2" name="current_velocity"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="Current model" name="current_velocity"/>
            <VariableGroup simulator="Thruster Aft STB" name="current_velocity"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="Current model" name="current_velocity"/>
            <VariableGroup simulator="Thruster Aft Port" name="current_velocity"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="Current model" name="current_velocity"/>
            <VariableGroup simulator="Thruster Front STB" name="current_velocity"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="Current model" name="current_velocity"/>
            <VariableGroup simulator="Thruster Front Port" name="current_velocity"/>
        </VariableGroupConnection>

        <!-- Wind -->
        <VariableConnection>
            <Variable simulator="Wind model" name="wind_direction"/>
            <Variable simulator="Wind loads" name="wind_direction"/>
        </VariableConnection>
        <VariableConnection>
            <Variable simulator="Wind model" name="wind_speed"/>
            <Variable simulator="Wind loads" name="wind_speed"/>
        </VariableConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="velocity_body_6dof"/>
            <VariableGroup simulator="Wind loads" name="vessel_velocity"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="position_6dof"/>
            <VariableGroup simulator="Wind loads" name="vessel_position"/>
        </VariableGroupConnection>
        
        <!-- Thrusters -->
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="velocity_body_6dof"/>
            <VariableGroup simulator="Thruster Aft STB" name="vessel_velocity"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="velocity_body_6dof"/>
            <VariableGroup simulator="Thruster Aft Port" name="vessel_velocity"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="velocity_body_6dof"/>
            <VariableGroup simulator="Thruster Front STB" name="vessel_velocity"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="velocity_body_6dof"/>
            <VariableGroup simulator="Thruster Front Port" name="vessel_velocity"/>
        </VariableGroupConnection>
        
        <!-- Sensors -->
        <VariableGroupConnection>
            <VariableGroup simulator="gps_sensor_1" name="nmea_senti"/>
            <VariableGroup simulator="senti_sender" name="gps_input"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="gyro_sensor" name="nmea_senti"/>
            <VariableGroup simulator="senti_sender" name="gyro_input"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="vru_sensor" name="nmea_senti"/>
            <VariableGroup simulator="senti_sender" name="vru_input"/>
        </VariableGroupConnection>
        
        <!-- <SignalConnection>
            <Variable simulator="gyro_sensor" name="heading_measurement"/>
            <Signal function="deg2rad1" name="in"/>
        </SignalConnection>
        <SignalConnection>
            <Signal function="deg2rad1" name="out"/>
            <Variable simulator="senti_sender" name="Heading"/>
        </SignalConnection>
        <SignalConnection>
            <Variable simulator="gyro_sensor" name="rate_of_turn"/>
            <Signal function="deg2rad2" name="in"/>
        </SignalConnection>
        <SignalConnection>
            <Signal function="deg2rad2" name="out"/>
            <Variable simulator="senti_sender" name="RateOfTurn"/>
        </SignalConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="nmea_senti"/>
            <VariableGroup simulator="senti_sender" name="vessel_input"/>
        </VariableGroupConnection> -->

        <!-- <VariableGroupConnection>
            <VariableGroup simulator="gps_sensor_1" name="nmea_gga"/>
            <VariableGroup simulator="gps_sender_1" name="nmea_gga"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="gps_sensor_1" name="nmea_vtg"/>
            <VariableGroup simulator="gps_sender_1" name="nmea_vtg"/>
        </VariableGroupConnection> -->
        
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="nmea_senti"/>
            <VariableGroup simulator="senti_sender" name="vessel_input"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="nu[1]"/>
            <VariableGroup simulator="senti_sender" name="SwayVelocity"/>
        </VariableGroupConnection>

        <VariableGroupConnection>
            <VariableGroup simulator="gps_sensor_2" name="nmea_gga"/>
            <VariableGroup simulator="gps_sender_2" name="nmea_gga"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="gps_sensor_2" name="nmea_vtg"/>
            <VariableGroup simulator="gps_sender_2" name="nmea_vtg"/>
        </VariableGroupConnection>
        <!-- <VariableConnection>
            <Variable simulator="gyro_sensor" name="heading_measurement"/>
            <Variable simulator="gyro_sender" name="Heading"/>
        </VariableConnection>
        <VariableConnection>
            <Variable simulator="gyro_sensor" name="rate_of_turn"/>
            <Variable simulator="gyro_sender" name="RateOfTurn"/>
        </VariableConnection> -->
        
        <VariableGroupConnection>
            <VariableGroup simulator="wind_sensor" name="nmea_mwv"/>
            <VariableGroup simulator="wind_sensor_sender" name="nmea_mwv"/>
        </VariableGroupConnection>
        <!-- <VariableGroupConnection>
            <VariableGroup simulator="vru_sensor" name="nmea_sxn"/>
            <VariableGroup simulator="vru_sender" name="nmea_sxn"/>
        </VariableGroupConnection>	 -->
        
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="vru_signal"/>
            <VariableGroup simulator="vru_sensor" name="vru_input"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="position_6dof"/>
            <VariableGroup simulator="gps_sensor_1" name="gnss_input"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="velocity_body_6dof"/>
            <VariableGroup simulator="gps_sensor_1" name="gnss_velocity_input"/>
        </VariableGroupConnection>

        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="position_6dof"/>
            <VariableGroup simulator="gps_sensor_2" name="gnss_input"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="velocity_body_6dof"/>
            <VariableGroup simulator="gps_sensor_2" name="gnss_velocity_input"/>
        </VariableGroupConnection>

        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="gyro_signal"/>
            <VariableGroup simulator="gyro_sensor" name="gyro_input"/>
        </VariableGroupConnection>

        <VariableGroupConnection>
            <VariableGroup simulator="Wind model" name="wind_output"/>
            <VariableGroup simulator="wind_sensor" name="wind_sensor_input"/>
        </VariableGroupConnection>
        
        <!-- Docking -->
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="position_3dof"/>
            <VariableGroup simulator="Distance Sensor Fore Port" name="position_3dof"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="position_3dof"/>
            <VariableGroup simulator="Distance Sensor Fore STB" name="position_3dof"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="position_3dof"/>
            <VariableGroup simulator="Distance Sensor Aft Port" name="position_3dof"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="position_3dof"/>
            <VariableGroup simulator="Distance Sensor Aft STB" name="position_3dof"/>
        </VariableGroupConnection>
        
        <!--Thruster cmd/fbc-->
        <VariableConnection>
            <Variable simulator="mt_hil_interface" name="thr1_rpm_cmd"/>
            <Variable simulator="Thruster Front Port" name="propeller_rpm_command"/>
        </VariableConnection>
        <VariableConnection>
            <Variable simulator="mt_hil_interface" name="thr1_azm_cmd"/>
            <Variable simulator="Thruster Front Port" name="angle_command"/>
        </VariableConnection>
        <VariableConnection>
            <Variable simulator="Thruster Front Port" name="propeller_rpm"/>
            <Variable simulator="mt_hil_interface" name="thr1_rpm_fba"/>
        </VariableConnection>
        <VariableConnection>
            <Variable simulator="Thruster Front Port" name="angle"/>
            <Variable simulator="mt_hil_interface" name="thr1_azm_fba"/>
        </VariableConnection>

        <VariableConnection>
            <Variable simulator="mt_hil_interface" name="thr2_rpm_cmd"/>
            <Variable simulator="Thruster Front STB" name="propeller_rpm_command"/>
        </VariableConnection>
        <VariableConnection>
            <Variable simulator="mt_hil_interface" name="thr2_azm_cmd"/>
            <Variable simulator="Thruster Front STB" name="angle_command"/>
        </VariableConnection>
        <VariableConnection>
            <Variable simulator="Thruster Front STB" name="propeller_rpm"/>
            <Variable simulator="mt_hil_interface" name="thr2_rpm_fba"/>
        </VariableConnection>
        <VariableConnection>
            <Variable simulator="Thruster Front STB" name="angle"/>
            <Variable simulator="mt_hil_interface" name="thr2_azm_fba"/>
        </VariableConnection>

        <VariableConnection>
            <Variable simulator="mt_hil_interface" name="thr3_rpm_cmd"/>
            <Variable simulator="Thruster Aft Port" name="propeller_rpm_command"/>
        </VariableConnection>
        <VariableConnection>
            <Variable simulator="mt_hil_interface" name="thr3_azm_cmd"/>
            <Variable simulator="Thruster Aft Port" name="angle_command"/>
        </VariableConnection>
        <VariableConnection>
            <Variable simulator="Thruster Aft Port" name="propeller_rpm"/>
            <Variable simulator="mt_hil_interface" name="thr3_rpm_fba"/>
        </VariableConnection>
        <VariableConnection>
            <Variable simulator="Thruster Aft Port" name="angle"/>
            <Variable simulator="mt_hil_interface" name="thr3_azm_fba"/>
        </VariableConnection>

        <VariableConnection>
            <Variable simulator="mt_hil_interface" name="thr4_rpm_cmd"/>
            <Variable simulator="Thruster Aft STB" name="propeller_rpm_command"/>
        </VariableConnection>
        <VariableConnection>
            <Variable simulator="mt_hil_interface" name="thr4_azm_cmd"/>
            <Variable simulator="Thruster Aft STB" name="angle_command"/>
        </VariableConnection>
        <VariableConnection>
            <Variable simulator="Thruster Aft STB" name="propeller_rpm"/>
            <Variable simulator="mt_hil_interface" name="thr4_rpm_fba"/>
        </VariableConnection>
        <VariableConnection>
            <Variable simulator="Thruster Aft STB" name="angle"/>
            <Variable simulator="mt_hil_interface" name="thr4_azm_fba"/>
        </VariableConnection>


        <!-- ROS (Autonomy)-->
        <VariableGroupConnection>
            <VariableGroup simulator="Distance Sensor Fore Port" name="sensor_output"/>
            <VariableGroup simulator="ultrasound_distance_communication" name="ultrasonic_sensor_fore_port"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="Distance Sensor Fore STB" name="sensor_output"/>
            <VariableGroup simulator="ultrasound_distance_communication" name="ultrasonic_sensor_fore_stbd"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="Distance Sensor Aft Port" name="sensor_output"/>
            <VariableGroup simulator="ultrasound_distance_communication" name="ultrasonic_sensor_aft_port"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="Distance Sensor Aft STB" name="sensor_output"/>
            <VariableGroup simulator="ultrasound_distance_communication" name="ultrasonic_sensor_aft_stbd"/>
        </VariableGroupConnection>
        
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="position_6dof"/>
            <VariableGroup simulator="zb_sim_nav" name="pose"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="velocity_body_6dof"/>
            <VariableGroup simulator="zb_sim_nav" name="twist_body"/>
        </VariableGroupConnection>
        <VariableGroupConnection>
            <VariableGroup simulator="milliAmpere 2" name="velocity_ned_6dof"/>
            <VariableGroup simulator="zb_sim_nav" name="twist_ned"/>
        </VariableGroupConnection>
    </Connections>
</OspSystemStructure>
